#include <iostream>

int main() {
  int water;
  int milk;
  int aCounter = 0;
  int lCounter = 0;
  std::string drink;
  std::cout << "Сколько всего в аппарате воды?   ";
  std::cin >> water;
  std::cout << "Сколько всего в аппарате молока?   ";
  std::cin >> milk;

  while (water < 0 || milk < 0){
    std::cout << "Быть такого не может!\n";
    std::cout << "Сколько всего в аппарате воды?   ";
    std::cin >> water;
    std::cout << "Сколько всего в аппарате молока?   ";
    std::cin >> milk;
  }

  for (; ;){
    if (water < 300 || (water < 270 && milk < 30)){
      std::cout << "Аппарат не работает!\nОстаток воды: " << water << "\nОстаток молока: " << milk << "\nПодано порций американо: " << aCounter << "\nПодано порций латте: " << lCounter << "\n";
      break;
    }
    std::cout << "Что будете заказывать(американо/латте)?   ";
    std::cin >> drink;
    if (drink == "американо"){
      if (water < 300) {
        std::cout << "Не хватает воды!\n";
      } else {
        water -= 300;
        std::cout << "Ваш напиток готов!\n";
        aCounter++;
      } 
    } else if (drink == "латте"){
      if (milk < 30){
        std::cout << "Не хватает молока!\n";
      } else if (water < 270){
        std::cout << "Не хватает воды!";
      } else {
        water -= 270;
        milk -= 30;
        std::cout << "Ваш напиток готов!\n";
        lCounter++;
      }
    }
  }
}
